<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Bible Reading</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
        <!-- Auth View -->
        <div class="view active" id="authView">
            <h1>Bible in a Year</h1>
            
            <div id="loginForm">
                <h2>Sign In</h2>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter your password">
                </div>
                <button class="btn-primary" onclick="signIn()">Sign In</button>
                <div class="auth-toggle">
                    Don't have an account? <a onclick="showSignup()">Sign Up</a>
                </div>
                <div id="loginError" class="error-message"></div>
            </div>

            <div id="signupForm" style="display: none;">
                <h2>Create Account</h2>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="signupEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="signupPassword" placeholder="At least 6 characters">
                </div>
                <button class="btn-primary" onclick="signUp()">Create Account</button>
                <div class="auth-toggle">
                    Already have an account? <a onclick="showLogin()">Sign In</a>
                </div>
                <div id="signupError" class="error-message"></div>
            </div>
        </div>

        <!-- Main App View -->
        <div class="view" id="mainView">
            <h1>Daily Bible Reading</h1>
          <div id="cornerAuth" class="auth-corner" style="display: none;">
    <span id="userEmail"></span>
    <span>|</span>
    <button class="btn-signout-minimal" onclick="signOut()">Sign Out</button>
</div>
            <div class="date-display" id="dateDisplay"></div>

            <div class="reading-card" id="readingCard">
                <div class="day-number" id="dayNumber"></div>
                <div class="reading-text" id="readingText"></div>
            </div>

            <button class="btn-complete mark-complete" id="completeBtn" onclick="toggleComplete()">
                Mark as Complete
            </button>

            <div class="completion-stats">
                <div class="stat">
                    <div class="stat-number" id="completedCount">0</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="remainingCount">358</div>
                    <div class="stat-label">Remaining</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="streakCount">0</div>
                    <div class="stat-label">Streak</div>
                </div>
            </div>

            <div class="progress-section">
                <div class="progress-label">
                    <span>Annual Progress</span>
                    <span id="progressPercent"></span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-label">
                    <span>Completion Progress</span>
                    <span id="completionPercent">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="completionFill" style="background: linear-gradient(90deg, #414832 0%, #2d3322 100%);"></div>
                </div>
            </div>

            <div class="navigation">
                <button class="btn-nav" id="prevBtn" onclick="changeDay(-1)">← Previous</button>
                <button class="btn-today" onclick="goToToday()">Today</button>
                <button class="btn-nav" id="nextBtn" onclick="changeDay(1)">Next →</button>
            </div>
        </div>

        <button class="btn-settings" onclick="openSettings()">Settings</button>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Settings</h2>
                    <button class="btn-close" onclick="closeSettings()">×</button>
                </div>
                <div class="modal-body">
                    <div class="setting-group">
                        <label>Start Date</label>
                        <input type="date" id="startDateInput" />
                        <button class="btn-setting" onclick="changeStartDate()">Update Start Date</button>
                        <p class="setting-description">Change when your reading plan started. This will recalculate which day corresponds to today's date.</p>
                    </div>
                    <div class="setting-group">
                        <button class="btn-setting btn-danger" onclick="markAllPastAsComplete()">Mark All Past Days Complete</button>
                        <p class="setting-description">Marks all days up to today as completed. This is useful if you're catching up on your reading plan.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>
